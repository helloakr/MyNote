# 第二章 应用层

## 2.1 应用层协议原理

​		应用层的基本原理一定是在于应用构建本身，能够运行在不同端同过网络彼此通信的程序。

### 2.1.1 网络应用程序体系结构

​	**应用程序体系结构**：就是网络端的主从关系或者是所有网络端平等关系。

​	主流的两种应用程序体系结构：客户端与服务器、P2P点对点体系。

**客户端/服务端**：总有一台机子开着去服务其他机子，客户端彼此是不可能通信的，其实一台机子可能跟不上太多客户端的请求，一般后面是有一大堆机子我们称之为服务器集群。

**P2P点对点体系**：任意链接主机两台机子或者多台机子相互对等就是P2P，彼此为彼此间提供网络服务，P2P最为有趣的一点不受一点的控制来扩展性能，在节点越来越多的情况下整个服务的性能是自己可以去成长的。

### 2.1.2 进程通信

​	我们关注的端与端的进程通信，并不是机子本身的进程和进程之间的通信。

1. 客户机和服务器进程

   其实这边的客户机和服务器并不只是应用程序体系结构，web角度来说浏览器叫做客户端，服务器就是服务端，P2P文件共享中上传文件就叫服务端，下载文件就是客户端。一个会话中发起通信则就是客户端，处理会话就是服务端。

2. 进程与计算机网络之间的接口

   进程之间通过套接字来接受发送报文，两个房子之间要窜门，那套接字就是那个门。

### 2.1.3 可供应用程序使用的运输服务

​	运送一个报文是需要选择传输协议，就像你寄快递时候选择什么样的快递公司一样。

​	传输层的协议传输起来就吊了，还分四个方面

1. 可靠数据传输

   重要的数据传输肯定是要保证传输的可靠性的，当然有些应用也不需要多可靠的数据保证性比如视频这一类的在这些应用的容忍范围里面当然可以丢一些包。

2. 吞吐量

   网络进程接受进程交付的比特速率这就是吞吐量，要保证一个吞吐量如果不确定一个吞吐量，你连基本的网络应用都无法构建，比如网络电话你发送的频率和数量不够，那一卡一卡谁他妈用啊

3. 定时

   就保证一个报文从我们的进程发起到对方进程之间不能迟多少秒，比如游戏领域肯定要在多少秒之类发送到客户端，不然不就卡死了。

4. 安全性

   安全性一定要保证一个安全性，起码你发出起的数据包要加密，不然别人一抓一个准直接解包将信息盗取。

