# 第二章：程序结构

## 2.1命名

**命名规则**：一个名字必须以一个字母(Unicode字母)或下划线开头，后面可以跟任意 数量的字母、数字或下划线。大写字母和小写字母是不同的:heapSort和Heapsort是两个不 同的名字。



## 2.2声明

go语言通常为四个声明

**var**：变量

**const**：常量

**类型**：type

**函数**：func

 

一个函数的声明：函数名字、参数列表、返回值列表

遇到return返回值语句整个函数停止

## 2.3变量

**一般语法情况下**：var 变量名 类型=表达式

可省略的情况

1. 省略类型初始的值为表达式
2. 省略表达式初始的值为默认值



### 2.3.1 简短变量声明

名字:表达式

变量的类型可以自动推导

适用于局部声明和初始化

1. := 语句
2. = 操作

### 2.3.2 指针

一个变量保存着另一个变量的内存地址。

任何类型的指针的初始值是nil

### 2.3.3 new函数

new(t) t为一个类型

### 2.3.4变量生命周期

变量的生命周期是在程序运行期间，有效的时间间隔

**包一级的变量**：随着程序运行结束而结束

**局部变量**：不要被引用时便会被回收器回收

**垃圾回收机制**：从包到每一个局部变量，通过执政遍历，看能不能找得到这个变量，不在的话变量不可达，就回收。

## 2.4赋值

1. x=1 命名变量赋值
2. *p = true 指针赋值
3. person.name ="bob" 结构体字符赋值
4. count[x] = count[x]*scale 数组 slice或者map 原属辅助



**正确**

v := 1

v++

**错误**

x = v++

因为++是语句不是表达式

### 2.4.1元组赋值

可同时更新多个变量，先处理右侧的值再赋值给左侧。

```go
//交换
x, y = y, x
a[i], a[j] = a[j], a[i]

//运算
x, y = y, x%y

//赋值
 i, j, k = 2, 3, 5

//通常返回两个变量一个结果一个为错误
 f, err = os.Open("foo.txt")
```

## 2.5. 类型

type 类型名字 底层类型

重新将用底层类型名字打包成新的类型名字

## 2.6.包和文件



